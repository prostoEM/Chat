(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{14:function(t,e,a){t.exports={chat:"Chat_chat__21N9Z",window:"Chat_window__2Ti_z",form:"Chat_form__2t4T1",input:"Chat_input__2svM6",button:"Chat_button__jcBgT",message:"Chat_message__1mr6p",avatar:"Chat_avatar__6x18L",info:"Chat_info__3yxgU",name:"Chat_name__mxSeu",text:"Chat_text__1PbDJ"}},25:function(t,e,a){t.exports={nav:"NavBar_nav__1FWUI",button:"NavBar_button__28sYz"}},28:function(t,e,a){t.exports={main:"Log_main__1GS42",box:"Log_box__Io4qr",button:"Log_button__3mKUU"}},36:function(t,e,a){t.exports={load:"load_load__3jiWw"}},42:function(t,e,a){},55:function(t,e,a){},58:function(t,e,a){"use strict";a.r(e),a.d(e,"Context",(function(){return U}));var n=a(2),c=a(34),r=a.n(c),s=(a(42),a(15)),o=a(22),i=a(8),u=a(20),j=a.n(u),b=a(24),h=a(17),d=a(14),l=a.n(d),p=a(35),m=a(36),x=a.n(m),O=a(4),_=function(){return Object(O.jsx)("div",{className:x.a.load,style:{height:window.innerHeight-60}})},f=a(16),v=function(){var t=Object(n.useContext)(U),e=t.auth,a=t.firestore,c=Object(h.a)(e),r=Object(s.a)(c,1)[0],o=Object(n.useState)(""),i=Object(s.a)(o,2),u=i[0],d=i[1],m=Object(p.a)(a.collection("messages").orderBy("createdAt")),x=Object(s.a)(m,2),v=x[0],g=x[1],C=function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.collection("messages").add({uid:r.uid,displayName:r.displayName,photoURL:r.photoURL,text:u,createdAt:f.a.firestore.FieldValue.serverTimestamp()}),d("");case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return g?Object(O.jsx)(_,{}):Object(O.jsxs)("div",{className:l.a.chat,style:{height:window.innerHeight-60},children:[Object(O.jsx)("div",{className:l.a.window,children:v.map((function(t){return Object(O.jsxs)("div",{className:l.a.message,style:{border:r.uid===t.uid?"3px solid #2EE59D":"3px solid black",marginLeft:r.uid===t.uid?"auto":"10px"},children:[Object(O.jsxs)("div",{className:l.a.info,children:[Object(O.jsx)("img",{className:l.a.avatar,src:t.photoURL}),Object(O.jsx)("div",{className:l.a.name,children:t.displayName})]}),Object(O.jsx)("div",{className:l.a.text,children:t.text})]})}))}),Object(O.jsxs)("form",{className:l.a.form,children:[Object(O.jsx)("input",{className:l.a.input,maxlength:"90",value:u,onChange:function(t){return d(t.target.value)}}),Object(O.jsx)("button",{className:l.a.button,onClick:C,type:"button",children:"\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})},g=a(28),C=a.n(g),N="/log",w="/chat",y=[{path:N,Component:function(){var t=Object(n.useContext)(U).auth,e=function(){var e=Object(b.a)(j.a.mark((function e(){var a,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new f.a.auth.GoogleAuthProvider,e.next=3,t.signInWithPopup(a);case 3:n=e.sent,c=n.user,console.log(c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:C.a.main,style:{height:window.innerHeight-60},children:Object(O.jsx)("button",{className:C.a.button,onClick:e,children:"\u0432\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e GOOGLE"})})}}],L=[{path:w,Component:v}],k=function(){var t=Object(n.useContext)(U).auth,e=Object(h.a)(t);return Object(s.a)(e,1)[0]?Object(O.jsxs)(i.d,{children:[L.map((function(t){var e=t.path,a=t.Component;return Object(O.jsx)(i.b,{path:e,component:a,exact:!0},e)})),Object(O.jsx)(i.a,{to:w})]}):Object(O.jsxs)(i.d,{children:[y.map((function(t){var e=t.path,a=t.Component;return Object(O.jsx)(i.b,{path:e,component:a,exact:!0},e)})),Object(O.jsx)(i.a,{to:N})]})},I=a(25),B=a.n(I),A=function(){var t=Object(n.useContext)(U).auth,e=Object(h.a)(t),a=Object(s.a)(e,1)[0];return Object(O.jsx)("div",{className:B.a.nav,children:a?Object(O.jsx)("button",{onClick:function(){return t.signOut()},className:B.a.button,children:"\u0432\u044b\u0439\u0442\u0438"}):Object(O.jsx)(o.b,{to:N,children:Object(O.jsx)("button",{className:B.a.button,children:"\u043b\u043e\u0433\u0438\u043d"})})})};a(55);var S=function(){var t=Object(n.useContext)(U).auth,e=Object(h.a)(t),a=Object(s.a)(e,3),c=(a[0],a[1]);return a[2],c?Object(O.jsx)(_,{}):Object(O.jsxs)(o.a,{children:[Object(O.jsx)(A,{}),Object(O.jsx)(k,{})]})},T=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,59)).then((function(e){var a=e.getCLS,n=e.getFID,c=e.getFCP,r=e.getLCP,s=e.getTTFB;a(t),n(t),c(t),r(t),s(t)}))},U=(a(56),a(57),Object(n.createContext)(null));f.a.initializeApp({apiKey:"AIzaSyAQ0NisDT7n5kKYNI7rALGHyx2NC8w-46k",authDomain:"char-react-c1877.firebaseapp.com",projectId:"char-react-c1877",storageBucket:"char-react-c1877.appspot.com",messagingSenderId:"348612489841",appId:"1:348612489841:web:ed44c8008216bed95721d0",measurementId:"G-SE8LVH6VYB"});var F=f.a.auth(),G=f.a.firestore();r.a.render(Object(O.jsx)(U.Provider,{value:{firebase:f.a,auth:F,firestore:G},children:Object(O.jsx)(S,{})}),document.getElementById("root")),T()}},[[58,1,2]]]);
//# sourceMappingURL=main.2001c4d6.chunk.js.map