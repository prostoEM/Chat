{"version":3,"sources":["components/Chat/Chat.module.css","components/NavBar/NavBar.module.css","components/Log/Log.module.css","components/Load/load.module.css","components/Load/load.js","components/Chat/Chat.js","utils/consts.js","routes.js","components/Log/Log.js","components/AppRouter.js","components/NavBar/NavBar.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Load","className","classes","load","style","height","window","innerHeight","Chat","useContext","Context","auth","firestore","useAuthState","user","useState","value","setValue","useCollectionData","collection","orderBy","messages","loading","sendMessage","a","add","uid","displayName","photoURL","text","createdAt","firebase","FieldValue","serverTimestamp","chat","map","message","border","marginLeft","info","avatar","src","name","form","input","maxlength","onChange","e","target","button","onClick","type","LOGIN_ROUTE","CHAT_ROUTE","publicRoutes","path","Component","login","provider","GoogleAuthProvider","signInWithPopup","console","log","main","privateRoutes","AppRouter","component","exact","to","Navbar","nav","signOut","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","createContext","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","ReactDOM","render","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.2001c4d6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"chat\":\"Chat_chat__21N9Z\",\"window\":\"Chat_window__2Ti_z\",\"form\":\"Chat_form__2t4T1\",\"input\":\"Chat_input__2svM6\",\"button\":\"Chat_button__jcBgT\",\"message\":\"Chat_message__1mr6p\",\"avatar\":\"Chat_avatar__6x18L\",\"info\":\"Chat_info__3yxgU\",\"name\":\"Chat_name__mxSeu\",\"text\":\"Chat_text__1PbDJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__1FWUI\",\"button\":\"NavBar_button__28sYz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Log_main__1GS42\",\"box\":\"Log_box__Io4qr\",\"button\":\"Log_button__3mKUU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"load\":\"load_load__3jiWw\"};","import React from 'react';\nimport classes from './load.module.css';\n\n\nconst Load = () => {\n    \n    return (\n        <div className = {classes.load} style = {{height: window.innerHeight - 60}}>\n            \n        </div>\n    )\n}\n\nexport default Load;","import React, { useContext, useState } from 'react';\nimport {useAuthState} from 'react-firebase-hooks/auth'\nimport { Context } from '../../index';\nimport classes from './Chat.module.css'\nimport {useCollectionData} from 'react-firebase-hooks/firestore'\nimport Load from '../Load/load';\nimport firebase from 'firebase';\n\nconst Chat = () => {\n\n    const {auth, firestore} = useContext(Context)\n    const [user] = useAuthState(auth)\n    const [value, setValue] = useState('')\n    const [messages, loading] = useCollectionData(\n        firestore.collection('messages').orderBy('createdAt')\n    )\n\n    const sendMessage = async () => {\n        firestore.collection('messages').add({\n            uid: user.uid,\n            displayName: user.displayName,\n            photoURL: user.photoURL,\n            text: value,\n            createdAt: firebase.firestore.FieldValue.serverTimestamp()\n        })\n        setValue('')\n    }\n\n    if (loading) {\n        return <Load />\n    }\n\n    return (\n        <div className = {classes.chat} style = {{height: window.innerHeight - 60}}>\n            <div className = {classes.window}>\n                {messages.map( messages => \n                    <div className = {classes.message} \n                    style = {{\n                        border: user.uid === messages.uid ? '3px solid #2EE59D' : '3px solid black',\n                        marginLeft: user.uid === messages.uid ? 'auto' : '10px',\n                    }}> \n                    <div className = {classes.info}>\n                        <img className = {classes.avatar} src = {messages.photoURL}/>\n                        <div className = {classes.name}>{messages.displayName}</div>\n                    </div>\n                        <div className = {classes.text} >{messages.text}</div>\n                    </div>\n                    ) }\n            </div>\n            <form className = {classes.form}>\n                <input \n                    className = {classes.input} \n                    maxlength = \"90\" \n                    value = {value} \n                    onChange = {e => setValue(e.target.value)}>\n\n                </input>\n                <button className = {classes.button} onClick={sendMessage} type = 'button'>отправить</button>\n                \n            </form>\n        </div>\n    )\n}\n\nexport default Chat;","export const LOGIN_ROUTE = '/log'\nexport const CHAT_ROUTE = '/chat'","import Chat from \"./components/Chat/Chat\";\nimport Log from \"./components/Log/Log\";\nimport { CHAT_ROUTE, LOGIN_ROUTE } from \"./utils/consts\";\n\nexport const publicRoutes = [\n    {\n        path:   LOGIN_ROUTE,\n        Component: Log\n        \n    }\n]\n\nexport const privateRoutes = [\n    {\n        path:   CHAT_ROUTE,\n        Component: Chat\n        \n    }\n]","import React, { useContext } from 'react';\nimport classes from './Log.module.css';\nimport {Context} from '../../index';\nimport firebase from 'firebase';\n\nconst Log = () => {\n    \n    const {auth} = useContext(Context)\n\n    const login = async () =>{\n        const provider =new firebase.auth.GoogleAuthProvider()\n        const {user} = await auth.signInWithPopup(provider)\n        console.log(user)\n    } \n\n    return (\n        <div className = {classes.main} style = {{height: window.innerHeight - 60}}>\n            <button className = {classes.button} onClick = {login} >войти с помощью GOOGLE</button>\n        </div>\n    )\n}\n\nexport default Log;","import React, { useContext } from 'react';\nimport {Route, Switch,  Redirect} from 'react-router-dom'\nimport { privateRoutes, publicRoutes } from '../routes';\nimport { CHAT_ROUTE, LOGIN_ROUTE } from '../utils/consts';\nimport {useAuthState} from 'react-firebase-hooks/auth'\nimport { Context } from '../index';\n\n\nconst AppRouter = () => {\n    const {auth} = useContext(Context)\n    const [user] = useAuthState(auth)\n  \n    return user ? \n    (\n        <Switch>\n            {privateRoutes.map(({path , Component}) =>\n                    <Route key = {path} path = {path} component = {Component} exact={true} />\n            )}\n            <Redirect to = {CHAT_ROUTE}/>\n        </Switch>    \n    )\n    :\n    (\n        <Switch>\n            {publicRoutes.map(({path , Component}) =>\n                    <Route key = {path} path = {path} component = {Component} exact={true} />\n            )}\n            <Redirect to = {LOGIN_ROUTE}/>\n        </Switch>\n    );\n}\n\nexport default AppRouter;","import React, { useContext } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { LOGIN_ROUTE } from '../../utils/consts';\nimport classes from './NavBar.module.css';\nimport {useAuthState} from 'react-firebase-hooks/auth';\nimport {Context} from '../../index';\n\nconst Navbar = () => {\n    const {auth} = useContext(Context)\n    const [user] = useAuthState(auth)\n    return (\n        <div className = {classes.nav}>\n            {user ?\n            <button onClick = {() => auth.signOut()} className = {classes.button}>выйти</button>\n            :\n            <NavLink to = {LOGIN_ROUTE}>\n            <button className = {classes.button}>логин</button>\n            </NavLink>\n            }\n            \n            \n        </div>\n    )\n}\n\nexport default Navbar;","import {BrowserRouter} from 'react-router-dom'\nimport AppRouter from './components/AppRouter';\nimport Navbar from './components/NavBar/NavBar';\nimport './App.css';\nimport {useAuthState} from 'react-firebase-hooks/auth'\nimport { Context } from './index';\nimport Load from './components/Load/load';\nimport { useContext } from 'react';\n\n\nfunction App() {\n\n  const {auth} = useContext(Context)\n  const [user, loading, error] = useAuthState(auth)\n\n  if (loading) {\n    return <Load />\n  }\n  return (\n    <BrowserRouter>\n      <Navbar />\n      <AppRouter />\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { createContext } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport firebase from 'firebase';\nimport 'firebase/firestore'\nimport 'firebase/auth'\n\nexport const Context = createContext(null)\n\n\nfirebase.initializeApp({\n  apiKey: \"AIzaSyAQ0NisDT7n5kKYNI7rALGHyx2NC8w-46k\",\n  authDomain: \"char-react-c1877.firebaseapp.com\",\n  projectId: \"char-react-c1877\",\n  storageBucket: \"char-react-c1877.appspot.com\",\n  messagingSenderId: \"348612489841\",\n  appId: \"1:348612489841:web:ed44c8008216bed95721d0\",\n  measurementId: \"G-SE8LVH6VYB\"\n});\n\nconst auth = firebase.auth()\nconst firestore = firebase.firestore()\n\nReactDOM.render(\n  <Context.Provider value = {{\n    firebase,\n    auth,\n    firestore\n    }}>\n    <App />\n  </Context.Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}